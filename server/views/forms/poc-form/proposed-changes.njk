{% extends "../../partials/layout.njk" %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% set hideBackLink = true %}

{% block header %}
    {% include "../../partials/header.njk" %}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
        <div>
            <h1 class="govuk-heading-l">{{ options.pageTitle }}</h1>
            {% if proposedChanges.length %}
                <ol class="govuk-list">
                    {% for c in proposedChanges %}
                        <li class="govuk-!-margin-bottom-5">
                            <h2 class="govuk-heading-m">{{ c.changeType }}</h2>
                            
                            {{ govukTable({
                                firstCellIsHeader: true,
                                head: [
                                    {
                                        text: "Field"
                                    }, {
                                        text: "Current value"
                                    }, {
                                        text: "Proposed value"
                                    }
                                ],
                                rows: c.changeDetails
                            }) }}
                            
                            <a href="{{ c.acceptLink }}" class="govuk-link">Accept</a>
                            <a href="{{ c.rejectLink }}" class="govuk-link">Reject</a>
                        </li>
                    {% endfor %}
                </ol>
            {% else %}
                <p class="govuk-body">There are no proposed changes to display</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
